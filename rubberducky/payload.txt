REM === USB Rubber Ducky: Educational HID Trust Demo ===
DELAY 1000

REM Open notepad
GUI r
DELAY 500
STRING notepad
ENTER
DELAY 1500

REM Code begins here!!
STRING # This fancy code computes the merkel root of a merkel tree.
ENTER
DELAY 300
STRING # Written by Prince and Hadar!
DELAY 500
ENTER
STRING # LET'S GOOOOOOOOOOOOO!
DELAY 1000
ENTER
ENTER
STRING import hashlib
ENTER
ENTER
STRING def hash_data(data):
ENTER
STRING     return hashlib.sha256(data.encode()).hexdigest()
ENTER
ENTER
STRING def merkle_tree(leaves):
ENTER
STRING     if len(leaves) == 1:
ENTER
STRING         return leaves[0]
ENTER
ENTER
STRING     new_level = []
ENTER
STRING     for i in range(0, len(leaves), 2):
ENTER
STRING         left = leaves[i]
ENTER
STRING         right = leaves[i + 1] if i + 1 < len(leaves) else left
ENTER
STRING         new_level.append(hash_data(left + right))
ENTER
ENTER
STRING     return merkle_tree(new_level)
ENTER
ENTER
STRING transactions = [
ENTER
STRING     "Paul pays Maggie 5 BTC",
ENTER
STRING     "Hadar pays Prince 2 BTC",
ENTER
STRING     "Paul pays Prince 3 BTC",
ENTER
STRING     "Maggie pays Hadar 0.5 BTC"
ENTER
STRING ]
ENTER
ENTER
STRING hashed = [hash_data(tx) for tx in transactions]
ENTER
STRING root = merkle_tree(hashed)
ENTER
ENTER
STRING print("Merkle Root:")
ENTER
STRING print(root)
ENTER
ENTER

STRING print("\\nASSIGNMENT COMPLETED SUCCESSFULLY")
ENTER

DELAY 1000

REM Save file
CTRL s
DELAY 500
STRING merkle_demo.py
DELAY 500
ENTER
DELAY 1000

REM run file in windows powershell
GUI r
DELAY 500
STRING powershell
DELAY 300
GUI UP
DELAY 500
ENTER
DELAY 500
STRING cd .\Documents\
DELAY 500
ENTER
DELAY 500
STRING python .\merkle_demo.py
DELAY 500
ENTER
DELAY 2000
INJECT_MOD WINDOWS
DELAY 500
STRING whatsapp
DELAY 500
ENTER
DELAY 500
GUI UP
DELAY 500
TAB
DELAY 500
TAB
DELAY 500
TAB 
DELAY 500
TAB
DELAY 700
REM CHANGE THIS NAME LATER TO HADAR
STRING kingprince
DELAY 700
ENTER
DELAY 700
STRING Hey man!
DELAY 700
ENTER
STRING I just completed the merkel assignment!
DELAY 700
ENTER
STRING WE GOTA HIT THE CLUB TONIGHT!
DELAY 700
ENTER
STRING LOL!
DELAY 700
ENTER
